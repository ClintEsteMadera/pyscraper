<!DOCTYPE html>
<!--[if lt IE 10]><html class="no-js ie8 oldie" lang="en" prefix="og: http://ogp.me/ns/# og:book: http://ogp.me/ns/book# og:video: http://ogp.me/ns/video#"


    itemscope itemtype="http://schema.org/Book http://schema.org/ItemPage" data-offline-url="/"
data-url="/library/view/python-cookbook/0596001673/ch12s03.html"

data-archive="0596001673"
data-publishers="O&#x27;Reilly Media, Inc."


  data-htmlfile-name="ch12s03.html"
  data-epub-title="Python Cookbook"



data-federated-auth-enabled="true"

data-env="production"
data-debug="0" ><![endif]-->
<!--[if gt IE 9]><!--><html class="no-js" lang="en" prefix="og: http://ogp.me/ns/# og:book: http://ogp.me/ns/book# og:video: http://ogp.me/ns/video#"


    itemscope="" itemtype="http://schema.org/Book http://schema.org/ItemPage" data-offline-url="/"
data-url="/library/view/python-cookbook/0596001673/ch12s03.html"

data-archive="0596001673"
data-publishers="O&#x27;Reilly Media, Inc."


  data-htmlfile-name="ch12s03.html"
  data-epub-title="Python Cookbook"



data-federated-auth-enabled="true"

data-env="production"
data-debug="0" ><!--<![endif]-->
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Counting Tags in a Document - Python Cookbook [Book]</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="/library/view/static/CACHE/css/output.a33a000c6aec.css" type="text/css">
    <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro' rel='stylesheet' type='text/css' />
    <link rel="stylesheet" type="text/css" href="https://cdn.oreillystatic.com/assets/css/2018_font_face.css" />


    <meta property="og:title" content="Python Cookbook" />
    <meta itemprop="isPartOf" content="/library/view/python-cookbook/0596001673/" />
    <meta itemprop="name" content="Counting Tags in a Document" />

    <meta property="og:url" itemprop="url" content="https://www.oreilly.com/library/view/python-cookbook/0596001673/ch12s03.html" />
    <meta property="og:site_name" content="O’Reilly Online Learning" />
    <meta property="og:image" itemprop="thumbnailUrl" content="https://www.oreilly.com/library/cover/0596001673/" />

    <meta property="og:image:secure_url" itemprop="thumbnailUrl" content="https://learning.oreilly.com/library/cover/0596001673/360h/">
    <meta property="og:description" itemprop="description" name="description" content="Counting Tags in a Document Credit: Paul Prescod Problem You want to get a sense of how often particular elements occur in an XML document, and the relevant counts must …  - Selection from Python Cookbook [Book]">

    <meta itemprop="inLanguage" content="en" />

    <meta itemprop="publisher" content="O&#x27;Reilly Media, Inc." />

    <meta property="og:type" content="article" />
    <meta property="og:book:isbn" itemprop="isbn" content="9780596001674" />


    <meta property="og:book:tag" itemprop="about" content="Python" />



    <meta property="og:image:width" content="400">
    <meta property="og:image:height" content="400">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@OReillyMedia">

<!-- Start Visual Website Optimizer Asynchronous Code -->
<script type='text/javascript'>
var _vwo_code=(function(){
var account_id=291788,
settings_tolerance=2000,
library_tolerance=2500,
use_existing_jquery=false,
/* DO NOT EDIT BELOW THIS LINE */
f=false,d=document;return{use_existing_jquery:function(){return use_existing_jquery;},library_tolerance:function(){return library_tolerance;},finish:function(){if(!f){f=true;var a=d.getElementById('_vis_opt_path_hides');if(a)a.parentNode.removeChild(a);}},finished:function(){return f;},load:function(a){var b=d.createElement('script');b.src=a;b.type='text/javascript';b.innerText;b.onerror=function(){_vwo_code.finish();};d.getElementsByTagName('head')[0].appendChild(b);},init:function(){settings_timer=setTimeout('_vwo_code.finish()',settings_tolerance);var a=d.createElement('style'),b='body{opacity:0 !important;filter:alpha(opacity=0) !important;background:none !important;}',h=d.getElementsByTagName('head')[0];a.setAttribute('id','_vis_opt_path_hides');a.setAttribute('type','text/css');if(a.styleSheet)a.styleSheet.cssText=b;else a.appendChild(d.createTextNode(b));h.appendChild(a);this.load('//dev.visualwebsiteoptimizer.com/j.php?a='+account_id+'&u='+encodeURIComponent(d.URL)+'&r='+Math.random());return settings_timer;}};}());_vwo_settings_timer=_vwo_code.init();
</script>
<!-- End Visual Website Optimizer Asynchronous Code -->

    <link class="t-canonical-link" rel="canonical" href="https://www.oreilly.com/library/view/python-cookbook/0596001673/ch12s03.html" />

    <link rel="shortcut icon" href="//www.oreilly.com/favicon.ico" type="image/vnd.microsoft.icon" />
    <link rel="apple-touch-icon" href="/library/view/static/images/apple-touch-icon.png" />



    <style type="text/css" title="ibis-book">
    @page{margin-left:8px;margin-right:8px}#sbo-rt-content p{margin-top:10px;margin-bottom:10px}#sbo-rt-content em{font-style:italic;font-family:serif}#sbo-rt-content strong{font-weight:bold;font-family:serif}#sbo-rt-content strong em,#sbo-rt-content em strong,#sbo-rt-content h1 em,#sbo-rt-content h2 em,#sbo-rt-content h3 em,#sbo-rt-content h4 em{font-weight:bold;font-style:italic;font-family:serif}#sbo-rt-content code strong em,#sbo-rt-content code em strong{font-weight:bold;font-style:italic;font-family:monospace}#sbo-rt-content code em,#sbo-rt-content em code,#sbo-rt-content pre em{font-family:monospace;font-style:italic}#sbo-rt-content code strong,#sbo-rt-content strong code,#sbo-rt-content pre strong{font-family:monospace;font-weight:bold}#sbo-rt-content code{font-family:"DejaVu Sans Mono",monospace}#sbo-rt-content h1,#sbo-rt-content h2,#sbo-rt-content h3,#sbo-rt-content h4,#sbo-rt-content h5,#sbo-rt-content h6{text-align:left !important;page-break-inside:avoid;page-break-after:avoid;font-weight:bold;display:block;font-family:sans-serif}#sbo-rt-content h1{font-size:1.5em;color:#003}#sbo-rt-content h2{font-size:1.3em;color:#000080}#sbo-rt-content h3{font-size:1.1em;color:#00009C}#sbo-rt-content h4{font-size:1em;font-style:italic}#sbo-rt-content h5{font-size:1em;font-style:italic}#sbo-rt-content h6{font-size:1em;font-style:italic}#sbo-rt-content img{max-width:100%;margin-left:auto;margin-right:auto;border:0}#sbo-rt-content .figure-contents{page-break-after:avoid;page-break-inside:avoid;padding-bottom:.1em;text-align:center}#sbo-rt-content .figure{background:#F5F5F5;page-break-inside:avoid;padding:5px;text-align:center}#sbo-rt-content .informalfigure{text-align:center}#sbo-rt-content .figure .title{page-break-before:avoid;margin:0;text-align:center;font-weight:normal;font-style:italic;font-family:serif}#sbo-rt-content .sidebar{border:solid black 2px;background-color:#F5F5F5;margin:10px 5px 10px 0}#sbo-rt-content .sidebar>*{padding-left:5px;padding-right:5px}#sbo-rt-content .sidebar>a{display:none}#sbo-rt-content pre{white-space:pre-wrap;font-family:"DejaVu Sans Mono",monospace;font-size:85%;margin-left:1.5em;margin-bottom:10px}#sbo-rt-content .title{font-family:sans-serif;font-weight:bold}#sbo-rt-content .author h3{font-family:sans-serif;font-size:1em;margin-left:3%}#sbo-rt-content .editor h3{font-family:sans-serif;font-size:1em;margin-left:3%}#sbo-rt-content .editor h4{font-style:normal;font-weight:normal}#sbo-rt-content .affiliation{margin-left:3em;font-size:smaller}#sbo-rt-content div[class="attribution"]{margin-left:1.5em}#sbo-rt-content h3[class="author"] .orgname{display:none}#sbo-rt-content .epigraph{width:95%;margin:10px 10px 10px 5px;page-break-inside:avoid;border:dotted black 1px;background-color:#F5F5F5}#sbo-rt-content .epigraph>*{padding-left:5px;padding-right:5px}#sbo-rt-content .blockquote{width:95%;margin:10px 10px 10px 10px;page-break-inside:avoid;background-color:#F5F5F5}#sbo-rt-content .blockquote td,#sbo-rt-content .blockquote th{border:none}#sbo-rt-content .refentry h2{font-size:1.1em;color:#003}#sbo-rt-content .refnamediv p{margin-left:1.5em}#sbo-rt-content dd{margin-left:1.5em}#sbo-rt-content ol{margin-left:1em;padding-left:1em;list-style:decimal}#sbo-rt-content ul{margin-left:1em;padding-left:1em;list-style:square}#sbo-rt-content ul ul{list-style:circle}#sbo-rt-content .orderedlistalpha{list-style-type:upper-alpha}#sbo-rt-content .simplelist{margin-left:1.5em;margin-top:0}#sbo-rt-content .simplelist td{border:none;font-size:medium;padding:0}#sbo-rt-content .example .title{font-weight:normal;font-style:italic;font-family:serif;page-break-after:avoid}#sbo-rt-content .example{background-color:#F5F5F5}#sbo-rt-content .tip,#sbo-rt-content .note{width:95%;margin:10px 10px 10px 5px;page-break-inside:avoid;border:dashed black 1px;background-color:#F5F5F5}#sbo-rt-content .warning,#sbo-rt-content .caution{width:95%;margin:10px 10px 10px 5px;page-break-inside:avoid;border:double black 4px;background-color:#F5F5F5}#sbo-rt-content dd .note,#sbo-rt-content dd .tip,#sbo-rt-content dd .warning,#sbo-rt-content dd .caution{margin:.5em 0 .5em 1.25em}#sbo-rt-content .tip>*,#sbo-rt-content .warning>*,#sbo-rt-content .note>*,#sbo-rt-content .caution>*{padding-left:5px;padding-right:5px}#sbo-rt-content .note h3,#sbo-rt-content .warning h3,#sbo-rt-content .tip h3,#sbo-rt-content .caution h3{text-align:left !important;page-break-after:avoid}#sbo-rt-content table{margin-top:.5em;max-width:100%;border-collapse:collapse;border-spacing:0}#sbo-rt-content th{background-color:#F5F5F5;border:black 1px solid;font-weight:bold;font-family:sans-serif;font-size:smaller;padding:.2em;margin:0;text-align:left}#sbo-rt-content td{border:black 1px solid;padding:.2em;margin:0;border-spacing:0;font-size:smaller}#sbo-rt-content .table .title{font-size:medium;font-weight:normal;font-style:italic;font-family:serif;page-break-after:avoid;margin-bottom:.5em}#sbo-rt-content table code{font-size:x-small}#sbo-rt-content .gray-background{background:#2E2E2E;color:white}#sbo-rt-content code.boolean{color:rgb(0,0,128);}#sbo-rt-content code.character{color:rgb(128,128,0);}#sbo-rt-content code.comment{color:rgb(0,0,255);}#sbo-rt-content code.conditional{color:rgb(50,205,50);}#sbo-rt-content code.constant{color:rgb(255,140,0);}#sbo-rt-content code.debug{color:rgb(139,0,0);}#sbo-rt-content code.define{color:rgb(184,134,11);}#sbo-rt-content code.delimiter{color:rgb(105,105,105);}#sbo-rt-content code.error{color:rgb(255,0,0);}#sbo-rt-content code.exception{color:rgb(250,128,11);}#sbo-rt-content code.float{color:rgb(70,130,180);}#sbo-rt-content code.function{color:rgb(0,128,0);}#sbo-rt-content code.identifier{color:rgb(65,105,225);}#sbo-rt-content code.ignore{color:rgb(128,128,128);}#sbo-rt-content code.include{color:rgb(128,0,128);}#sbo-rt-content code.keyword{color:rgb(160,82,45);}#sbo-rt-content code.label{color:rgb(255,20,147);}#sbo-rt-content code.macro{color:rgb(255,69,0);}#sbo-rt-content code.number{color:rgb(165,42,42);}#sbo-rt-content code.operator{color:black;}#sbo-rt-content code.preCondit{color:rgb(0,128,128);}#sbo-rt-content code.preProc{color:rgb(255,0,255);}#sbo-rt-content code.repeat{color:rgb(75,0,130);}#sbo-rt-content code.special{color:rgb(139,69,19);}#sbo-rt-content code.specialchar{color:rgb(255,0,255);}#sbo-rt-content code.specialcomment{color:rgb(46,139,87);}#sbo-rt-content code.statement{color:rgb(34,139,34);}#sbo-rt-content code.storageclass{color:rgb(221,160,221);}#sbo-rt-content code.string{color:rgb(139,0,0);}#sbo-rt-content code.structure{color:rgb(210,106,30);}#sbo-rt-content code.tag{color:rgb(0,139,139);}#sbo-rt-content code.todo{color:black;}#sbo-rt-content code.type{color:rgb(123,104,238);}#sbo-rt-content code.typedef{color:rgb(0,100,0);}#sbo-rt-content code.underlined{text-decoration:underline;}#sbo-rt-content div{font-family:"DejaVu Serif",serif;margin:0;padding:0;text-align:left}
    </style>





</head>
<body class="js-preview-content  ">


<div class="skipToMain" id="skipToMain"><a href="#maincontent"><span class="skipToMain-text">Skip to main content</span></a></div>
<header role="banner" class="global">
  <div class="global-nav">
    <div class="content">
      <nav role="navigation" aria-label="site sections">
        <a href="https://www.oreilly.com" class="logo" title="home page" aria-current="page"><img src="https://cdn.oreillystatic.com/images/sitewide-headers/oreilly_logo_mark_red.svg" onerror="this.src='https://cdn.oreillystatic.com/images/sitewide-headers/oreilly_logo_mark_red_@2x.png'; this.onerror=null;" alt="O'Reilly home"></a>

        <button id="mobileNavButton" class="mobileNavButton mobileNavButton--collapse mobileNavButton--3dx" type="button" aria-expanded="false" aria-controls="menuList">
          <span class="mobileNavButton-box">
            <span class="mobileNavButton-inner"></span>
          </span>
        </button>


        <ul id="menuList" class="menuList mobileHidden ">
          <li class="menuList-itemsP1">
            <ul>

  <li class="menuList-item menuList-signIn"><a class="t-sign-in" href="https://learning.oreilly.com/accounts/login/?next=/library/view/python-cookbook/0596001673/ch12s03.html">Sign In</a></li>


              <li class="menuList-item menuList-tryNow"><a class="menuList-cta" href="https://learning.oreilly.com/p/register/">Try Now</a></li>
            </ul>
          </li>
          <li class="menuList-itemsP2">
            <ul>
              <li class="menuList-item"><a href="https://www.oreilly.com/online-learning/teams.html">Teams</a></li>
              <li class="menuList-item"><a href="https://www.oreilly.com/online-learning/individuals.html">Individuals</a></li>
              <li class="menuList-item menuList-itemWithSub"><a href="https://www.oreilly.com/online-learning/features.html">Features</a>
                <ul class="menuList-subList">
                  <li class="menuList-subItem"><a href="https://www.oreilly.com/online-learning/feature-certification.html">Certifications</a></li>
                  <li class="menuList-subItem"><a href="https://www.oreilly.com/online-learning/intro-interactive-learning.html">Interactive learning</a></li>
                  <li class="menuList-subItem"><a href="https://www.oreilly.com/online-learning/live-online-sessions.html">Live online sessions</a></li>
                </ul>
              </li>
              <li class="menuList-item"><a href="https://www.oreilly.com/whats-new.html">What’s New</a></li>
              <li class="menuList-item menuList-forMarketers"><a href="https://www.oreilly.com/content-marketing-solutions.html">O’Reilly for marketers</a></li>
            </ul>
          </li>
        </ul>
      </nav>
    </div>
  </div>


  <div class="global-search">
    <div id="globalSearchContent" class="content">
      <form id="js-search-form" class="t-navigation-form" action="https://learning.oreilly.com/search/">

        <script type="application/ld+json">
        {
          "@context": "http://schema.org",
          "@type": "WebSite",
          "url": "https://learning.oreilly.com",
          "potentialAction": {
            "@type": "SearchAction",
            "target": "https://learning.oreilly.com/search/?q={search_term_string}",
            "query-input": "required name=search_term_string"
          }
        }
        </script>
        <input data-search-text-focus= "See everything available through O’Reilly online learning and start a free trial. Explore now." data-search-text-idle = "See everything available through O’Reilly online learning and start a free trial. Explore now." id="search" type="search" name="query" placeholder="See everything available through O’Reilly online learning and start a free trial. Explore now." autocomplete="off" required />
        <input type="submit" value="Search" class="search-submit" />
      </form>
    </div>
  </div>
</header>



        <div class="sbo-menu-top sbo-menu-free">

            <div class="sbo-prev">
                <a href="https://learning.oreilly.com/library/view/python-cookbook/0596001673/ch12s02.html">
                    <div class="pagination-label">Prev</div>
                    <div class="pagination-title">Checking XML Well-Formedness</div>
                </a>

            </div>

            <section class="sbo-toc-container">
                <a href="https://learning.oreilly.com/library/view/python-cookbook/0596001673/" class="sbo-toc-thumb">
                    <span class="sbo-title ss-list">

                            <h1 class="t-title">Python Cookbook by </h1>

                    </span>
                </a>
            </section>

             <div class="sbo-next">
                <a href="https://learning.oreilly.com/library/view/python-cookbook/0596001673/ch12s04.html">
                    <div class="pagination-label">Next</div>
                    <div class="pagination-title">Extracting Text from an XML Document</div>
                </a>
            </div>

        </div>



</header>


<section id="trial-overlay">
  <div class="trial-overlay-content">
    <p>Get <em>Python Cookbook</em> now with O’Reilly <span class="nowrap">online learning.</span></p>

    <p>O’Reilly members experience live online training, plus books, videos, and digital content from <span class="nowrap">200+ publishers.</span></p>

    <div class="controls">
      <a href="https://learning.oreilly.com/p/register/" class="button-primary" data-ga-label="Bottom CTA">Start your free trial</a>
    </div>
    <a class="modal-dismiss" aria-label="modal dismiss"></a>
  </div>
</section>

<main role="main" id="maincontent">
  <div role="document" class="document">

<section id="sbo-reader">



<div class="sbo-reader-content sbo-sample-reader ">

    <div id="sbo-rt-content" class="sbo-rt-content">
    <div id="test-content-id"><div class="sect1" title="Counting Tags in a Document"><div class="titlepage"><div><div><h1 class="title"><a id="pythoncook-CHP-12-SECT-3"></a>Counting Tags in a Document</h1></div></div></div><p><span class="emphasis"><em>Credit: Paul Prescod</em></span></p><div class="sect2" title="Problem"><div class="titlepage"><div><div><h2 class="title"><a id="pythoncook-CHP-12-SECT-3.1"></a>Problem</h2></div></div></div><p><a id="IXT-12-233009" class="indexterm"></a>You want to get a sense of how often
particular elements occur in an XML document, and the relevant counts
must be extracted rapidly.
</p></div><div class="sect2" title="Solution"><div class="titlepage"><div><div><h2 class="title"><a id="pythoncook-CHP-12-SECT-3.2"></a>Solution</h2></div></div></div><p>You can subclass
<a id="IXT-12-233010" class="indexterm"></a>SAX’s
<code class="literal">ContentHandler</code> to make your own specialized
classes for any kind of task, including the collection of such
statistics:
</p><a id="I_12_tt586"></a><pre class="programlisting">from xml.sax.handler import ContentHandler
import xml.sax

class countHandler(ContentHandler):
    def _ _init_ _(self):
        self.tags={}

    def startElement(self, name, attr):
        if not self.tags.has_key(name):
            self.tags[name] = 0
        <span class="bold"><strong>self.tags[name] += 1</strong></span>

parser = xml.sax.make_parser(  )
handler = countHandler(  )
parser.setContentHandler(handler)
parser.parse("test.xml")

tags = handler.tags.keys(  )
tags.sort(  )
for tag in tags:
 print tag, handler.tags[tag]</pre></div><div class="sect2" title="Discussion"><div class="titlepage"><div><div><h2 class="title"><a id="pythoncook-CHP-12-SECT-3.3"></a>Discussion</h2></div></div></div><p>When I start with a new XML content set, I like to get a sense of
which elements are in it and how often they occur. I use variants of
this recipe. I can also collect attributes just as easily, as you can
see. If you add a stack, you can keep track of which elements occur
within other elements (for this, of course, you also have to override
the
<code class="literal">endElement</code><a id="IXT-12-233011" class="indexterm"></a>
method so you can pop the stack).
</p><p>This recipe also works well as a simple example of a SAX application,
usable as the basis for any SAX application. Alternatives to SAX
include <code class="literal">pulldom</code> and <code class="literal">minidom</code>.
These would be overkill for this simple job, though. For any simple
processing, this is generally the case, particularly if the document
you are processing is very large. DOM approaches are generally
justified only when you need to perform complicated editing and
alteration on an XML document, when the document itself is
complicated by references that go back and forth inside it, or when
you need to correlate (e.g., compare) multiple documents with each
other.
</p><p><code class="literal">ContentHandler</code><a id="IXT-12-233012" class="indexterm"></a>
subclasses offer many other options, and the online Python
documentation does a good job of explaining them. This
recipe’s <code class="literal">countHandler</code> class
overrides <code class="literal">ContentHandler</code>’s
<code class="literal">startElement</code><a id="IXT-12-233013" class="indexterm"></a>
method, which the parser calls at the start of each element, passing
as arguments the element’s tag name as a Unicode
string and the collection of attributes. Our override of this method
counts the number of times each tag name occurs. In the end, we
extract the dictionary used for counting and emit it (in alphabetical
order, which we easily obtain by sorting the keys).
</p><p>In the implementation of this recipe, an alternative to testing the
tags dictionary with <code class="literal">has_key</code> might offer a
slightly more concise way to code the <code class="literal">startElement</code>
method:
</p><a id="I_12_tt587"></a><pre class="programlisting">def startElement(self, name, attr):
    self.tags[name] = 1 + self.tags.get(name,0)</pre><p>This counting idiom for dictionaries is so frequent that
it’s probably worth encapsulating in its own
function despite its utter simplicity:
</p><a id="I_12_tt588"></a><pre class="programlisting">def count(adict, key, delta=1, default=0):
    adict[key] = delta + adict.get(key, default)</pre><p>Using this, you could code the <code class="literal">startElement</code> method
in the recipe as:
</p><a id="I_12_tt589"></a><pre class="programlisting">    def startElement(self, name, attr): count(self.tags, name)</pre></div><div class="sect2" title="See Also"><div class="titlepage"><div><div><h2 class="title"><a id="pythoncook-CHP-12-SECT-3.4"></a>See Also</h2></div></div></div><p><a class="link" href="ch12s02.html" title="Checking XML Well-Formedness">Recipe 12.2</a>, <a class="link" href="ch12s04.html" title="Extracting Text from an XML Document">Recipe 12.4</a>,
and <a class="link" href="ch12s06.html" title="Transforming an XML Document Using Python">Recipe 12.6</a> for other uses of the SAX API.
</p></div></div></div>
    </div>

    <section class="t-bottom-cta bottom-cta bottom-cta-book free-chapter">
  <p>Get <em>Python Cookbook</em> now with O’Reilly <span class="nowrap">online learning.</span></p>
  <p>O’Reilly members experience live online training, plus books, videos, and digital content from <span class="nowrap">200+ publishers.</span></p>

  <div class="controls">
      <a href="https://learning.oreilly.com/p/register/" class="button-primary" data-ga-label="Bottom CTA">Start your free trial</a>
  </div>
</section>

</div>


</section>



  </div>
</main>


  <footer id="footer" class="footer">
  <div class="content">
    <div class="footer-main" aria-label="company info">
      <div class="footer-mainLeft">
        <div class="footer-mainLeftOne">
          <div class="footer-approach">
            <h2 class="footer-header"><a href="https://www.oreilly.com/about/">About O’Reilly</a></h2>
            <ul class="footer-links">
              <li><a href="https://www.oreilly.com/work-with-us.html">Teach/write/train</a></li>
              <li><a href="https://www.oreilly.com/careers/">Careers</a></li>
              <li><a href="https://www.oreilly.com/partner/signup.csp">Community partners</a></li>
              <li><a href="https://www.oreilly.com/affiliates/">Affiliate program</a></li>
              <li><a href="https://www.oreilly.com/diversity/">Diversity</a></li>
            </ul>
          </div>
        </div>
        <div class="footer-mainLeftTwo">
          <div class="footer-contact">
            <h2 class="footer-header"><a href="https://www.oreilly.com/online-learning/support/">Support</a></h2>

            <ul class="footer-links">
              <li><a href="https://www.oreilly.com/about/contact.html">Contact us</a></li>
              <li><a href="https://www.oreilly.com/emails/newsletters/">Newsletters</a></li>
              <li><a href="https://www.oreilly.com/privacy.html">Privacy policy</a></li>
            </ul>

            <a href="https://twitter.com/oreillymedia" target="_blank"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 400 400" style="enable-background:new 0 0 400 400;" xml:space="preserve"><style type="text/css">.st0{fill:#ee0000;}.st1{fill:#FFFFFF;}</style><g id="Red"><circle class="st0" cx="200" cy="200" r="200"/></g><g id="Logo__x2014__FIXED"><path class="st1" d="M163.4,305.5c88.7,0,137.2-73.5,137.2-137.2c0-2.1,0-4.2-0.1-6.2c9.4-6.8,17.6-15.3,24.1-25 c-8.6,3.8-17.9,6.4-27.7,7.6c10-6,17.6-15.4,21.2-26.7c-9.3,5.5-19.6,9.5-30.6,11.7c-8.8-9.4-21.3-15.2-35.2-15.2 c-26.6,0-48.2,21.6-48.2,48.2c0,3.8,0.4,7.5,1.3,11c-40.1-2-75.6-21.2-99.4-50.4c-4.1,7.1-6.5,15.4-6.5,24.2 c0,16.7,8.5,31.5,21.5,40.1c-7.9-0.2-15.3-2.4-21.8-6c0,0.2,0,0.4,0,0.6c0,23.4,16.6,42.8,38.7,47.3c-4,1.1-8.3,1.7-12.7,1.7 c-3.1,0-6.1-0.3-9.1-0.9c6.1,19.2,23.9,33.1,45,33.5c-16.5,12.9-37.3,20.6-59.9,20.6c-3.9,0-7.7-0.2-11.5-0.7 C110.8,297.5,136.2,305.5,163.4,305.5"/></g></svg></a>
            <a href="https://www.facebook.com/OReilly/" target="_blank"><svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32.25 32.25"><defs><style>.cls-1{fill:#E00;fill-rule:evenodd;}</style></defs><title>facebook-logo</title><path class="cls-1" d="M16.13,0A16.13,16.13,0,1,0,32.25,16.12,16.13,16.13,0,0,0,16.13,0Zm5.12,9.54H19.57a1.52,1.52,0,0,0-1.51,1.51v1.14h3.19v3.42H18.06V26.12H13.57V15.61H10.69V12.19h2.88v-2a4,4,0,0,1,4-4h3.65Z"/></svg></a>
            <a href="https://www.linkedin.com/company/oreilly-media" target="_blank"><svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32.25 32.25"><defs><style>.cls-1{fill:#E00;fill-rule:evenodd;}</style></defs><title>linkedin-logo</title><path class="cls-1" d="M17.43,13.53v0l0,0ZM16.12,0A16.13,16.13,0,1,0,32.25,16.12,16.12,16.12,0,0,0,16.12,0ZM11.77,22.92H8.12v-11h3.65ZM9.94,10.44h0a1.89,1.89,0,0,1-2-1.89A1.91,1.91,0,0,1,10,6.65a1.9,1.9,0,1,1,0,3.79Zm15,12.48H21.28V17.05c0-1.48-.53-2.49-1.85-2.49a2,2,0,0,0-1.88,1.34,2.63,2.63,0,0,0-.12.89v6.13H13.79s.05-10,0-11h3.64V13.5a3.63,3.63,0,0,1,3.29-1.82c2.4,0,4.21,1.57,4.21,4.95Z"/></svg></a>
            <a href="https://www.youtube.com/user/OreillyMedia" target="_blank"><svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32.25 32.25"><defs><style>.cls-1{fill:#E00;fill-rule:evenodd;}</style></defs><title>youtube-logo</title><path class="cls-1" d="M18.35,18.68a.89.89,0,0,0-.86.63V16.94h-1v7.59h1v-.59a.92.92,0,0,0,.89.74c.52,0,.86-.36,1-1.07a8.56,8.56,0,0,0,.14-1.9,10.47,10.47,0,0,0-.12-1.93C19.21,19.05,18.87,18.68,18.35,18.68Zm.09,4.14c-.05.52-.2.77-.45.77s-.43-.21-.49-.63a7.22,7.22,0,0,1,0-1c0-.72,0-1.14,0-1.26.07-.58.23-.88.51-.88s.4.27.46.79c0,.09,0,.47,0,1.13S18.46,22.71,18.44,22.82ZM8.61,18.19H9.86v6.34H11V18.19H12.2V16.94H8.61Zm7.71-6.12c.27,0,.43-.22.49-.66,0-.09,0-.45,0-1.07V9.78c0-.58,0-.93,0-1-.07-.43-.23-.65-.48-.65s-.41.19-.48.57a8.79,8.79,0,0,0,0,1v.53c0,.71,0,1.09,0,1.16C15.88,11.82,16.05,12.07,16.32,12.07Zm-1.74,10.4a2.92,2.92,0,0,1-.06.71c-.07.25-.2.37-.4.37s-.32-.11-.38-.34a2.63,2.63,0,0,1-.05-.66V18.83h-1v4.48c0,.91.33,1.37,1,1.37A1,1,0,0,0,14.6,24v.57h1v-5.7h-1Zm7.1-3.79a1.35,1.35,0,0,0-1.22.59,2.48,2.48,0,0,0-.3,1.07c0,.23,0,.61,0,1.16s0,1.13,0,1.37a2.93,2.93,0,0,0,.35,1.27,1.25,1.25,0,0,0,1.14.54,1.36,1.36,0,0,0,1.13-.45,2.29,2.29,0,0,0,.37-1.43s0-.07,0-.11v-.12h-1c0,.75-.17,1.12-.51,1.12s-.38-.18-.45-.56a4.68,4.68,0,0,1-.06-.9c0-.18,0-.31,0-.37h2v-.43a4.86,4.86,0,0,0-.3-2.11A1.28,1.28,0,0,0,21.68,18.68ZM22.15,21h-1c0-.05,0-.11,0-.16v-.08a1.64,1.64,0,0,1,.11-.8.39.39,0,0,1,.38-.23.42.42,0,0,1,.43.33,2.32,2.32,0,0,1,.07.7Zm-6-21A16.13,16.13,0,1,0,32.25,16.12,16.12,16.12,0,0,0,16.12,0Zm2.51,7.2h1V11a2.52,2.52,0,0,0,.06.66c.06.23.18.34.38.34s.34-.12.41-.37a3.76,3.76,0,0,0,.05-.71V7.2h1v5.74h-1v-.57a1,1,0,0,1-.93.72c-.66,0-1-.46-1-1.38ZM15,8a1.29,1.29,0,0,1,1.33-.92A1.3,1.3,0,0,1,17.65,8a6.77,6.77,0,0,1,.23,2.1,6.77,6.77,0,0,1-.23,2.1,1.3,1.3,0,0,1-1.32.92A1.29,1.29,0,0,1,15,12.17a6.77,6.77,0,0,1-.23-2.1A6.86,6.86,0,0,1,15,8ZM11.45,5.3l.89,2.87.88-2.87H14.4L12.88,9.7v3.24h-1.1V9.7L10.24,5.3ZM24.93,23.91a3,3,0,0,1-3,3h-12a3,3,0,0,1-3-3V18.05a3,3,0,0,1,3-3h12a3,3,0,0,1,3,3Z"/></svg></a>
          </div>
        </div>
      </div>

      <div class="footer-download" id="download-info">
        <h2 class="footer-header">Download the O’Reilly App</h2>

        <div class="footer-downloadLinks">
          <a href="https://itunes.apple.com/us/app/safari-to-go/id881697395"><img src="https://cdn.oreillystatic.com/oreilly/images/app-store-logo.png" alt="Apple app store" /></a>
          <a href="https://play.google.com/store/apps/details?id=com.safariflow.queue"><img src="https://cdn.oreillystatic.com/oreilly/images/google-play-logo.png"  alt="Google play store" /></a>
        </div>

        <p>Take O’Reilly online learning with you and learn anywhere, anytime on your phone <span class="nowrap">and tablet.</span></p>

        <ul>
          <li>Get unlimited access to books, videos, and <span class="nowrap">live training.</span></li>
          <li>Sync all your devices and never lose your place.</li>
          <li>Learn even when there’s no signal with <span class="nowrap">offline access.</span></li>
        </ul>
      </div>

      <div class="footer-donotsell" id="donotsell-info">
        <h2 class="footer-header">Do not sell my personal information</h2>

        <p style="line-height: 1.5em;">Exercise your consumer rights by contacting us at <a href="mailto:donotsell@oreilly.com?subject=Do Not Sell My Personal Information Request" style="text-decoration:underline;">donotsell@oreilly.com</a>.</p>
      </div>
    </div>

    <div class="footer-subfooter">

      <a href="https://www.oreilly.com" title="home page" aria-current="page">
        <img
        class="footer-subfooterLogo"
        id="footer-subfooterLogo"
        src="https://cdn.oreillystatic.com/images/sitewide-headers/oreilly_logo_mark_red.svg"
        onerror="this.src='https://cdn.oreillystatic.com/images/sitewide-headers/oreilly_logo_mark_red_@2x.png'; this.onerror=null;"
        alt="O'Reilly home">
      </a>

      <p>&copy; 2020, O’Reilly Media, Inc. All trademarks and registered trademarks appearing on oreilly.com are the property of their respective owners.</p>



      <p><a href="https://www.oreilly.com/terms/">Terms of service</a> • <a href="https://www.oreilly.com/privacy.html">Privacy policy</a> • <a href="https://www.oreilly.com/about/editorial_independence.html">Editorial independence</a></p>
    </div>

  </div>
</footer>




<script>
  var g = {

    position_cache: {},
    title: "Python Cookbook",
    author_list: "",
    format: "book",
    source: "application/epub+zip",
    is_system_book: true,
    is_public: true,
    loaded_from_server: true,
    allow_scripts: false,
    has_mathml: false

  };
</script>
<script>
  window.dataLayer = window.dataLayer || [];
  window.dataLayer.push({
    'product.title': "Python Cookbook",
    'product.type': "book",
    'product.identifier': "0596001673",
    'content.identifier': "0596001673/ch12s03.html",
    'content.publisher': "O'Reilly Media, Inc.",
    'content.free': "yes",

    'content.subdirectory': "none",
    'content.subTopic': "none",
    'content.parentTopic': "none",
    'content.formatType': "book-chapter",
    'content.author': "",
    'content.releaseDate': "2002-07-19",
    'content.title': "Counting Tags in a Document",
  });
</script>






<script src="/library/view/static/CACHE/js/output.3fa4edd6d217.js"></script>


<noscript>
  <iframe src="//www.googletagmanager.com/ns.html?id=GTM-5P4V6Z"
          height="0" width="0"
          style="display:none;visibility:hidden">
  </iframe>
</noscript>


<script async defer src="/library/view/pageview.js"></script>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>

<script>
  jQuery(document).ready(function($) {
    //Toggle isActive and mobileHidden classes for mobileNavButton
    $('nav #mobileNavButton').on('click', function() {
      var expanded = $(this).attr('aria-expanded') === 'true' || false;
      $(this).attr('aria-expanded', !expanded);
      $(this).toggleClass("isActive");
      $(this).next().toggleClass("mobileHidden");
    });

    //Toggle isFocused class for keyboard navigation of submenus
    $('nav #menuList .menuList-subItem a').each(function(navItem) {
      $(this).on('focus', function() {
        $(this).parent().parent().toggleClass('isFocused');
      });
      $(this).on('blur', function() {
        $(this).parent().parent().toggleClass('isFocused');
      });
    });

    //Toggle mobileHidden class accordian elements
    $('.mobileAccordian').each(function() {
      var $btn = $(this).find('button');
      var $target =  $(this).next();
      $btn.on('click', function() {
        var expanded = $btn.attr('aria-expanded') === 'true' || false;

        $btn.attr('aria-expanded', !expanded);
        $target.toggleClass("mobileHidden");
      });
    });


    //Hide title page's long description behind disclosure button
    var titleDescriptionExtra = $('.title-description p:first-of-type').nextAll(':nth-child(3)').nextAll();
    titleDescriptionExtra.wrapAll('<div id="titleDescriptionExtra" />');
    if (titleDescriptionExtra.length > 0) {
      $('#titleDescriptionExtra').toggle();
      $('#showMoreDescription').removeClass('hidden');
      $('#showMoreDescription button').on('click', function() {
        $(this).toggleClass('more');
        $('#titleDescriptionExtra').slideToggle();
      });
    }

    //Hide title page's long TOC behind disclosure button
    var titleTOCShort = $('.sbo-reader-title .detail-toc').find('li').slice(0,4);
    var titleTOCExtra = $('.sbo-reader-title .detail-toc').find('li').not(titleTOCShort);
    if (titleTOCExtra.length > 0) {
      titleTOCExtra.toggle();
      $('#showMoreTOC').removeClass('hidden');
      $('#showMoreTOC button').on('click', function() {
        $(this).toggleClass('more');
        titleTOCExtra.toggle();
      });
    }

    //Hide product information on page load
    $('#product-information').toggle();
    $('#title-tabs button').on('click', function() {
      var $thisTab = $(this);
      if (!$thisTab.hasClass('title-tab-active')) {
        var lastTabTarget = $('#title-tabs .title-tab-active').removeClass('title-tab-active').attr('data-target');
        $('#' + lastTabTarget).toggle();

        $thisTab.addClass('title-tab-active');
        var $tabTarget = $(this).attr('data-target');
        $('#' + $tabTarget).toggle();
      }
    });


    //Trigger GA events for related products
    $('#recommendations .recommendations-item').each(function(i) {
      $(this).on('click', function(e) {
        var cardTitle = $(this).find('.recommendations-title').text().toLowerCase();
        var productType = $(this).find('.recommendations-format').text().toLowerCase();
        var contentID = $(this).attr('data-id');
        var eventLbl = String(i);

        dataLayer.push({
          'product.title': undefined,
          'content.formatType': undefined,
          'product.identifier': undefined,
          'content.title': undefined,
          'content.author': undefined,
          'content.publisher': undefined,
          'content.releaseDate': undefined,
          'content.free': undefined,
          'content.subdirectory': undefined,
          'content.parentTopic': undefined,
          'content.subTopic': undefined,
          'event': 'eventTracker',
          'eventCat': 'recommended titles',
          'eventAct': 'card click',
          'eventLbl': eventLbl,
          'eventVal': 0,
          'nonInteraction': 0,
          'cardTitle': cardTitle,
          'product.type': productType,
          'content.identifier': contentID,
          'eventCallback': function() {
            dataLayer.push({'cardTitle': undefined});
          },
          'eventTimeout' : 2000
        });
      });
    });

  });

</script>



<!-- MARC Intercept Support -->

<script src="https://service.seamlessaccess.org/thiss.js"></script>

<script src="/library/view/static/CACHE/js/output.5426f7a3b865.js"></script>


</body>
</html>
